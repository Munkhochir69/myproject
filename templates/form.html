<!DOCTYPE html>
<html lang="mn">
  <head>
    <meta charset="UTF-8" />
    <title>Дамп Үзлэгийн Форм</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(135deg, #e0f7fa, #f0f4f8);
        font-family: 'Segoe UI', sans-serif;
      }
      .form-container {
        max-width: 850px;
        margin: 40px auto;
        background: #ffffff;
        padding: 40px 30px;
        border-radius: 20px;
        box-shadow: 0px 12px 30px rgba(0, 0, 0, 0.1);
      }
      h1, h2 {
        text-align: center;
        color: #2e3c52;
        font-weight: bold;
      }
      label {
        font-weight: 600;
        color: #444;
      }
      input[type="text"],
      select,
      textarea {
        border-radius: 10px !important;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
        transition: 0.3s;
      }
      input[type="text"]:focus,
      select:focus,
      textarea:focus {
        border-color: #1976d2 !important;
        box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.2) !important;
      }
      input[type="file"] {
        border: 2px dashed #90a4ae;
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      input[type="file"]:hover {
        background-color: #e2e6ea;
      }
      .form-check-label {
        font-weight: normal;
      }
      #preview {
        margin-top: 15px;
        max-width: 100%;
        max-height: 300px;
        border-radius: 10px;
        display: none;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        transition: 0.5s ease-in-out;
      }
      .btn-submit {
        width: 100%;
        padding: 14px;
        font-size: 1.1em;
        border-radius: 12px;
        background-color: #1976d2;
        border: none;
        color: white;
        transition: background-color 0.3s ease, transform 0.2s ease;
      }
      .btn-submit:hover {
        background-color: #1565c0;
        transform: scale(1.02);
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <h1>Дамп Үзлэгийн Форм</h1>

      <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
          <label>Дамп парк дугаар:</label>
          <input type="text" name="damp_number" class="form-control" required />
        </div>

        <div class="mb-3">
          <label>Мото цаг:</label>
          <input type="text" name="moto_hour" class="form-control" required />
        </div>

        <div class="mb-3">
          <label>Өдөр/Шөнө:</label>
          <select name="shift" class="form-select" required>
            <option value="Өдөр">Өдөр</option>
            <option value="Шөнө">Шөнө</option>
          </select>
        </div>

        <div class="mb-3">
          <label>Үзлэг хийсэн операторын нэр:</label>
          <input type="text" name="operator_name" class="form-control" required />
        </div>

        <div class="mb-3">
          <label>Шалгасан механик:</label>
          <select name="mechanic_name" class="form-select" required>
            <option value="Бяамбадагва">Бяамбадагва</option>
            <option value="Өлзийбаатар">Өлзийбаатар</option>
          </select>
        </div>

        <h2>Үзлэгийн Асуултууд</h2>

        {% set questions = [ "Дугуйн ивүүрийг шалгах", "Кардан голны бүрэн байдал", "Хойд дугуй, урд дугуйнууд, бэхэлгээнүүд", "Захын дамжуулагч, подвескны гоожилт шалгах", "Тэвш, өргөх цилиндрийн пальц, суурь боолт", "Тормозны шугамуудыг шалгах", "Хойд тэнхлэгний боолтуудыг шалгах", "Чулуу зайлуулагч, шаврын хаалтны бүрэн байдал", "Шланк, цилиндр, хомутны бэхэлгээ", "Дулаан мэдрэгч хоолой зөв холбогдсон эсэх", "Цилиндрүүдийн кронштейн зөв эсэх", "Түгжээ лацны бүрэн байдал", "Подвискнуудын даралтыг шалгах", "Галын систем", "Аккумуляторын бэхэлгээ, клем, толгой", "Коллектор, яндангийн бүрэн байдал", "Гидрийн шингэний түвшин", "Радиаторын гуурс, хоолой", "Хөдөлгүүрийн тосны түвшин", "Трансмиссын шингэний түвшин", "Радиаторын антифризийн түвшин", "Гидрийн бак, шланкны бүрэн байдал", "Хөргөлтийн системийн бүрэн байдал", "Сэнс, жанам, агааржуулагчийн ремен", "Рулийн цилиндр болон шланкны гоожилт", "Хөдөлгүүрийн доод хэсгээр гоожиж байгаа эсэх", "Толь, шил арчигч, цонхнуудын бүрэн байдал", "Суудлын бүс", "Трансмисс болон тормоз удаашруулагч хөшүүрэг", "Бүх хянах гэрэл, дуут дохио, ухрах дохио, гэрэл", "Суурин станц", "Галын хор бүрэн байдал", "Галын хор цэнэгтэй эсэх", "Ослын гурвалжин", "Конус", "Эмийн сан", "Дугуйн элэгдэл" ] %}

        {% for i in range(1, 38) %}
        <div class="mb-3">
          <label class="form-label">{{ i }}. {{ questions[i-1] }}</label><br />
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="check_{{ i }}"
              value="Хэвийн"
              required
            />
            <label class="form-check-label">Хэвийн</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              name="check_{{ i }}"
              value="Хэвийн бус"
            />
            <label class="form-check-label">Хэвийн бус</label>
          </div>
        </div>
        {% endfor %}

        <div class="mb-3">
          <label>Тайлбар:</label>
          <textarea name="description" class="form-control" rows="3"></textarea>
        </div>

        <div class="mb-3">
          <label>Зураг илгээх:</label>
          <input
            type="file"
            name="image"
            accept="image/*"
            capture="environment"
            onchange="previewImage(event)"
            class="form-control"
          />
        </div>

        <div class="text-center">
          <img id="preview" src="#" alt="Зургийн урьдчилсан харагдац" />
        </div>

        <button type="submit" class="btn btn-submit mt-4">Илгээх</button>
      </form>
    </div>

    <script>
      function previewImage(event) {
        const input = event.target;
        const preview = document.getElementById("preview");
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            preview.src = e.target.result;
            preview.style.display = "block";
          };
          reader.readAsDataURL(input.files[0]);
        }
      }
    </script>
  </body>
</html>
